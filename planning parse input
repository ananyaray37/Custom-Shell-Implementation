#include <bits/stdc++.h>
using namespace std;


vector<string> tokenize(const string &line){
vector<string> tokens;
string cur;
bool in_sq = false, in_dq = false;
for(size_t i=0;i<line.size();++i){
char c = line[i];
if(c=='\'' && !in_dq){ in_sq = !in_sq; if(!in_sq){ tokens.push_back(cur); cur.clear(); } continue; }
if(c=='\"' && !in_sq){ in_dq = !in_dq; if(!in_dq){ tokens.push_back(cur); cur.clear(); } continue; }
if(!in_sq && !in_dq && isspace((unsigned char)c)){
if(!cur.empty()){ tokens.push_back(cur); cur.clear(); }
} else {
cur.push_back(c);
}
}
if(!cur.empty()) tokens.push_back(cur);
return tokens;
}


int main(){
string line;
cout<<"Day 1 - Simple tokenizer shell (type 'exit' to quit)"<<"\n";
while(true){
cout<<"d1sh> ";
if(!getline(cin,line)) break;
if(line=="exit") break;
auto tokens = tokenize(line);
cout<<"Parsed tokens ("<<tokens.size()<<"):\n";
for(size_t i=0;i<tokens.size();++i) cout<<i<<": '"<<tokens[i]<<"'\n";
}
cout<<"Bye\n";
return 0;
}
